{"version":3,"sources":["edit-members.js"],"names":["nextRow","newRow","total","parseInt","$","val","lastRow","closest","blankRow","clone","find","each","name","this","attr","replace","on","event","preventDefault","id","appendTo"],"mappings":"cAQC,WAGG,IAGIA,EACAC,EAJAC,EAAQC,SAASC,EAAE,2BAA2BC,OAC9CC,EAAUF,EAAE,2CAA2CG,QAAQ,MAC/DC,EAAWF,EAAQG,QAIvBD,EAASE,KAAK,SAASC,KAAK,WACxB,IAAIC,EAAOR,EAAES,MAAMC,KAAK,QAAQC,QAAQ,KAAOb,EAAQ,GAAK,IAAK,MACjEE,EAAES,MAAMC,KAAK,CACTF,KAAQA,MAIhBR,EAAE,aAAaY,GAAG,QAAS,SAASC,GAChCA,EAAMC,iBACNlB,EAAUQ,EAASC,SACnBR,EAASD,EAAQS,SACVC,KAAK,SAASC,KAAK,WACtB,IAAIC,EAAOR,EAAES,MAAMC,KAAK,QAAQC,QAAQ,KAAK,IAAMb,EAAQ,KACvDiB,EAAK,MAAQP,EACjBR,EAAES,MAAMC,KAAK,CACTF,KAAQA,EACRO,GAAMA,IACPd,IAAI,MAEXH,GAAgB,EAChBE,EAAE,2BAA2BC,IAAIH,GACjCD,EAAOmB,SAASd,EAAQC,QAAQ,UAChCD,EAAUL,IA/BjB","file":"contact-group.js","sourcesContent":["/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2018, Shuup Inc. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n(function (){\n    \"use strict\";\n\n    var total = parseInt($(\"#id_members-TOTAL_FORMS\").val());\n    var lastRow = $(\"#contact_group_form .browse-widget:last\").closest(\"tr\");\n    var blankRow = lastRow.clone();\n    var nextRow;\n    var newRow;\n\n    blankRow.find(\"input\").each(function() {\n        var name = $(this).attr(\"name\").replace(\"-\" + (total - 1) + \"-\", \"--\");\n        $(this).attr({\n            \"name\": name\n        });\n    });\n\n    $(\"#add-more\").on(\"click\", function(event) {\n        event.preventDefault();\n        nextRow = blankRow.clone();\n        newRow = nextRow.clone();\n        newRow.find(\"input\").each(function() {\n            var name = $(this).attr(\"name\").replace(\"--\",\"-\" + total + \"-\");\n            var id = \"id_\" + name;\n            $(this).attr({\n                \"name\": name,\n                \"id\": id\n            }).val(\"\");\n        });\n        total = total + 1;\n        $(\"#id_members-TOTAL_FORMS\").val(total);\n        newRow.appendTo(lastRow.closest(\"tbody\"));\n        lastRow = newRow;\n    });\n}());\n"]}