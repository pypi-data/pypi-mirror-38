(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{198:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_polymer_polymer_legacy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_polymer_iron_flex_layout_iron_flex_layout_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_polymer_paper_styles_default_theme_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),_polymer_paper_styles_typography_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0);function _templateObject(){var data=_taggedTemplateLiteral(["\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/Object(_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__.a)({_template:Object(_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__.a)(_templateObject()),is:"paper-item-body"})},202:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_resources_ha_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(120);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      .content {\n        padding: 28px 20px 0;\n        max-width: 1040px;\n        margin: 0 auto;\n      }\n\n      .header {\n        @apply --paper-font-display1;\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .together {\n        margin-top: 32px;\n      }\n\n      .intro {\n        @apply --paper-font-subhead;\n        width: 100%;\n        max-width: 400px;\n        margin-right: 40px;\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .panel {\n        margin-top: -24px;\n      }\n\n      .panel ::slotted(*) {\n        margin-top: 24px;\n        display: block;\n      }\n\n      .narrow.content {\n        max-width: 640px;\n      }\n      .narrow .together {\n        margin-top: 20px;\n      }\n      .narrow .header {\n        @apply --paper-font-headline;\n      }\n      .narrow .intro {\n        font-size: 14px;\n        padding-bottom: 20px;\n        margin-right: 0;\n        max-width: 500px;\n      }\n    </style>\n    <div class$=\"[[computeContentClasses(isWide)]]\">\n      <div class=\"header\"><slot name=\"header\"></slot></div>\n      <div class$=\"[[computeClasses(isWide)]]\">\n        <div class=\"intro\">\n          <slot name=\"introduction\"></slot>\n        </div>\n        <div class=\"panel flex-auto\">\n          <slot></slot>\n        </div>\n      </div>\n    </div>\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaConfigSection=function(_PolymerElement){_inherits(HaConfigSection,_PolymerElement);function HaConfigSection(){_classCallCheck(this,HaConfigSection);return _possibleConstructorReturn(this,_getPrototypeOf(HaConfigSection).apply(this,arguments))}_createClass(HaConfigSection,[{key:"computeContentClasses",value:function(isWide){var classes="content ";return isWide?classes:classes+"narrow"}},{key:"computeClasses",value:function(isWide){return"together layout "+(isWide?"horizontal":"vertical narrow")}}],[{key:"template",get:function(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject())}},{key:"properties",get:function(){return{hass:{type:Object},narrow:{type:Boolean},showMenu:{type:Boolean,value:!1},isWide:{type:Boolean,value:!1}}}}]);return HaConfigSection}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_1__.a);customElements.define("ha-config-section",HaConfigSection)},211:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_app_layout_app_header_layout_app_header_layout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(155),_polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(154),_polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(121),_polymer_paper_icon_button_paper_icon_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(62),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n    <style include=\"ha-style\"></style>\n    <app-header-layout has-scrolling-region=\"\">\n      <app-header slot=\"header\" fixed=\"\">\n        <app-toolbar>\n          <paper-icon-button icon=\"hass:arrow-left\" on-click=\"_backTapped\"></paper-icon-button>\n          <div main-title=\"\">[[header]]</div>\n          <slot name=\"toolbar-icon\"></slot>\n        </app-toolbar>\n      </app-header>\n\n      <slot></slot>\n    </app-header-layout>\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HassSubpage=function(_PolymerElement){_inherits(HassSubpage,_PolymerElement);function HassSubpage(){_classCallCheck(this,HassSubpage);return _possibleConstructorReturn(this,_getPrototypeOf(HassSubpage).apply(this,arguments))}_createClass(HassSubpage,[{key:"_backTapped",value:function(){history.back()}}],[{key:"template",get:function(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_4__.a)(_templateObject())}},{key:"properties",get:function(){return{header:String}}}]);return HassSubpage}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_5__.a);customElements.define("hass-subpage",HassSubpage)},212:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_paper_button_paper_button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54),_polymer_paper_spinner_paper_spinner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(124),_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n    <style>\n      .container {\n        position: relative;\n        display: inline-block;\n      }\n\n      paper-button {\n        transition: all 1s;\n      }\n\n      .success paper-button {\n        color: white;\n        background-color: var(--google-green-500);\n        transition: none;\n      }\n\n      .error paper-button {\n        color: white;\n        background-color: var(--google-red-500);\n        transition: none;\n      }\n\n      paper-button[disabled] {\n        color: #c8c8c8;\n      }\n\n      .progress {\n        @apply --layout;\n        @apply --layout-center-center;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      }\n    </style>\n    <div class=\"container\" id=\"container\">\n      <paper-button id=\"button\" disabled=\"[[computeDisabled(disabled, progress)]]\" on-click=\"buttonTapped\">\n        <slot></slot>\n      </paper-button>\n      <template is=\"dom-if\" if=\"[[progress]]\">\n        <div class=\"progress\">\n          <paper-spinner active=\"\"></paper-spinner>\n        </div>\n      </template>\n    </div>\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaProgressButton=function(_PolymerElement){_inherits(HaProgressButton,_PolymerElement);function HaProgressButton(){_classCallCheck(this,HaProgressButton);return _possibleConstructorReturn(this,_getPrototypeOf(HaProgressButton).apply(this,arguments))}_createClass(HaProgressButton,[{key:"tempClass",value:function(className){var classList=this.$.container.classList;classList.add(className);setTimeout(function(){classList.remove(className)},1e3)}},{key:"ready",value:function(){var _this=this;_get(_getPrototypeOf(HaProgressButton.prototype),"ready",this).call(this);this.addEventListener("click",function(ev){return _this.buttonTapped(ev)})}},{key:"buttonTapped",value:function(ev){if(this.progress)ev.stopPropagation()}},{key:"actionSuccess",value:function(){this.tempClass("success")}},{key:"actionError",value:function(){this.tempClass("error")}},{key:"computeDisabled",value:function(disabled,progress){return disabled||progress}}],[{key:"template",get:function(){return Object(_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_2__.a)(_templateObject())}},{key:"properties",get:function(){return{hass:{type:Object},progress:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1}}}}]);return HaProgressButton}(_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_3__.a);customElements.define("ha-progress-button",HaProgressButton)},292:function(module,__webpack_exports__,__webpack_require__){"use strict";var _polymer_lit_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(196),_ha_progress_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(212),_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _templateObject(){var data=_taggedTemplateLiteral(["\n      <ha-progress-button\n        .progress=\"","\"\n        @click=\"","\"\n        ?disabled=\"","\"\n      ><slot></slot></ha-progress-button>\n    "]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HaCallApiButton=function(_LitElement){_inherits(HaCallApiButton,_LitElement);_createClass(HaCallApiButton,[{key:"render",value:function(){return Object(_polymer_lit_element__WEBPACK_IMPORTED_MODULE_0__.c)(_templateObject(),this.progress,this._buttonTapped,this.disabled)}}]);function HaCallApiButton(){var _this;_classCallCheck(this,HaCallApiButton);_this=_possibleConstructorReturn(this,_getPrototypeOf(HaCallApiButton).call(this));_this.method="POST";_this.data={};_this.disabled=!1;_this.progress=!1;return _this}_createClass(HaCallApiButton,[{key:"_buttonTapped",value:function(){var _buttonTapped2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var eventData,resp;return regeneratorRuntime.wrap(function(_context){while(1){switch(_context.prev=_context.next){case 0:this.progress=!0;eventData={method:this.method,path:this.path,data:this.data};_context.prev=2;_context.next=5;return this.hass.callApi(this.method,this.path,this.data);case 5:resp=_context.sent;this.progress=!1;this.progressButton.actionSuccess();eventData.success=!0;eventData.response=resp;_context.next=18;break;case 12:_context.prev=12;_context.t0=_context["catch"](2);this.progress=!1;this.progressButton.actionError();eventData.success=!1;eventData.response=_context.t0;case 18:Object(_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_2__.a)(this,"hass-api-called",eventData);case 19:case"end":return _context.stop();}}},_callee,this,[[2,12]])}));return function(){return _buttonTapped2.apply(this,arguments)}}()},{key:"progressButton",get:function(){return this.renderRoot.querySelector("ha-progress-button")}}],[{key:"properties",get:function(){return{hass:{},progress:Boolean,path:String,method:String,data:{},disabled:Boolean}}}]);return HaCallApiButton}(_polymer_lit_element__WEBPACK_IMPORTED_MODULE_0__.a);customElements.define("ha-call-api-button",HaCallApiButton)},685:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var app_route=__webpack_require__(90),utils_async=__webpack_require__(8),debounce=__webpack_require__(14),html_tag=__webpack_require__(0),polymer_element=__webpack_require__(4),ha_config_section=__webpack_require__(202),paper_button=__webpack_require__(54),paper_card=__webpack_require__(153),paper_item_body=__webpack_require__(198),paper_toggle_button=__webpack_require__(159),ha_call_api_button=__webpack_require__(292),hass_subpage=__webpack_require__(211),ha_style=__webpack_require__(120),format_date_time=__webpack_require__(78),events_mixin=__webpack_require__(16),localize_mixin=__webpack_require__(10);function _typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _templateObject(){var data=_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      [slot=introduction] {\n        margin: -1em 0;\n      }\n      [slot=introduction] a {\n        color: var(--primary-color);\n      }\n      .content {\n        padding-bottom: 24px;\n      }\n      paper-card {\n        display: block;\n      }\n      .account-row {\n        display: flex;\n        padding: 0 16px;\n      }\n      paper-button {\n        align-self: center;\n      }\n      .soon {\n        font-style: italic;\n        margin-top: 24px;\n        text-align: center;\n      }\n      .nowrap {\n        white-space: nowrap;;\n      }\n      .wrap {\n        white-space: normal;\n      }\n      .status {\n        text-transform: capitalize;\n        padding: 16px;\n      }\n      paper-button {\n        color: var(--primary-color);\n        font-weight: 500;\n      }\n      a {\n        color: var(--primary-color);\n      }\n      paper-card > paper-toggle-button {\n        position: absolute;\n        right: 8px;\n        top: 16px;\n      }\n    </style>\n    <hass-subpage header=\"Home Assistant Cloud\">\n      <div class=\"content\">\n        <ha-config-section is-wide=\"[[isWide]]\">\n          <span slot=\"header\">Home Assistant Cloud</span>\n          <div slot=\"introduction\">\n            <p>\n              Thank you for being part of Home Assistant Cloud. It's because of people like you that we are able to make a great home automation experience for everyone. Thank you!\n            </p>\n          </div>\n\n          <paper-card heading=\"Nabu Casa Account\">\n            <div class=\"account-row\">\n              <paper-item-body two-line=\"\">\n                [[cloudStatus.email]]\n                <div secondary=\"\" class=\"wrap\">\n                  [[_formatSubscription(_subscription)]]\n                </div>\n              </paper-item-body>\n            </div>\n\n            <div class=\"account-row\">\n              <paper-item-body>\n                Cloud connection status\n              </paper-item-body>\n              <div class=\"status\">[[cloudStatus.cloud]]</div>\n            </div>\n\n            <div class='card-actions'>\n              <a href='https://account.nabucasa.com' target='_blank'><paper-button>Manage Account</paper-button></a>\n              <paper-button style='float: right' on-click=\"handleLogout\">Sign out</paper-button>\n            </div>\n          </paper-card>\n        </ha-config-section>\n\n        <ha-config-section is-wide=\"[[isWide]]\">\n          <span slot=\"header\">Integrations</span>\n          <div slot=\"introduction\">\n            <p>\n              Integrations for Home Assistant Cloud allow you to connect with services in the cloud without having to expose your Home Assistant instance publicly on the internet.\n            </p>\n            <p>\n              Check the website for <a href='https://www.nabucasa.com' target='_blank'>all available features</a>.\n            </p>\n          </div>\n\n          <paper-card heading=\"Alexa\">\n            <paper-toggle-button\n              checked='[[cloudStatus.alexa_enabled]]'\n              on-change='_alexaChanged'\n            ></paper-toggle-button>\n            <div class=\"card-content\">\n              With the Alexa integration for Home Assistant Cloud you'll be able to control all your Home Assistant devices via any Alexa-enabled device.\n              <ul>\n                <li>\n                  To activate, search in the Alexa app for the Home Assistant Smart Home skill.\n                </li>\n                <li>\n                  <a href=\"https://www.home-assistant.io/cloud/alexa/\" target=\"_blank\">\n                    Config documentation\n                  </a>\n                </li>\n              </ul>\n              <p><em>This integration requires an Alexa-enabled device like the Amazon Echo.</em></p>\n            </div>\n          </paper-card>\n\n          <paper-card heading=\"Google Assistant\">\n            <paper-toggle-button\n              checked='[[cloudStatus.google_enabled]]'\n              on-change='_googleChanged'\n            ></paper-toggle-button>\n            <div class=\"card-content\">\n              With the Google Assistant integration for Home Assistant Cloud you'll be able to control all your Home Assistant devices via any Google Assistant-enabled device.\n              <ul>\n                <li>\n                  <a href=\"https://assistant.google.com/services/a/uid/00000091fd5fb875\" target=\"_blank\">\n                    Activate the Home Assistant skill for Google Assistant\n                  </a>\n                </li>\n                <li>\n                  <a href=\"https://www.home-assistant.io/cloud/google_assistant/\" target=\"_blank\">\n                    Config documentation\n                  </a>\n                </li>\n              </ul>\n              <p><em>This integration requires a Google Assistant-enabled device like the Google Home or Android phone.</em></p>\n            </div>\n            <div class=\"card-actions\">\n              <ha-call-api-button\n                hass=\"[[hass]]\"\n                disabled='[[!cloudStatus.google_enabled]]'\n                path=\"cloud/google_actions/sync\"\n              >Sync devices</ha-call-api-button>\n            </div>\n          </paper-card>\n        </ha-config-section>\n      </div>\n    </hass-subpage>\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call)){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(null===object)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ha_config_cloud_account_HaConfigCloudAccount=function(_EventsMixin){_inherits(HaConfigCloudAccount,_EventsMixin);function HaConfigCloudAccount(){_classCallCheck(this,HaConfigCloudAccount);return _possibleConstructorReturn(this,_getPrototypeOf(HaConfigCloudAccount).apply(this,arguments))}_createClass(HaConfigCloudAccount,[{key:"ready",value:function(){_get(_getPrototypeOf(HaConfigCloudAccount.prototype),"ready",this).call(this);this._fetchSubscriptionInfo()}},{key:"_fetchSubscriptionInfo",value:function(){var _fetchSubscriptionInfo2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.hass.callWS({type:"cloud/subscription"});case 2:this._subscription=_context.sent;if(this._subscription.provider&&"connected"!==this.cloudStatus.cloud){this.fire("ha-refresh-cloud-status")}case 4:case"end":return _context.stop();}}},_callee,this)}));return function(){return _fetchSubscriptionInfo2.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var _this=this;this.hass.callApi("post","cloud/logout").then(function(){return _this.fire("ha-refresh-cloud-status")})}},{key:"_formatSubscription",value:function(subInfo){if(null===subInfo){return"Fetching subscription\u2026"}var description=subInfo.human_description;if(subInfo.plan_renewal_date){description=description.replace("{periodEnd}",Object(format_date_time.a)(new Date(1e3*subInfo.plan_renewal_date),this.hass.language))}return description}},{key:"_alexaChanged",value:function(ev){this._handleToggleChange("alexa_enabled",ev.target)}},{key:"_googleChanged",value:function(ev){this._handleToggleChange("google_enabled",ev.target)}},{key:"_handleToggleChange",value:function(){var _handleToggleChange2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(property,element){return regeneratorRuntime.wrap(function(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return this.hass.callWS(_defineProperty({type:"cloud/update_prefs"},property,element.checked));case 3:this.fire("ha-refresh-cloud-status");_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);element.checked=!element.checked;case 9:case"end":return _context2.stop();}}},_callee2,this,[[0,6]])}));return function(){return _handleToggleChange2.apply(this,arguments)}}()}],[{key:"template",get:function(){return Object(html_tag.a)(_templateObject())}},{key:"properties",get:function(){return{hass:Object,isWide:Boolean,cloudStatus:Object,_subscription:{type:Object,value:null}}}}]);return HaConfigCloudAccount}(Object(events_mixin.a)(Object(localize_mixin.a)(polymer_element.a)));customElements.define("ha-config-cloud-account",ha_config_cloud_account_HaConfigCloudAccount);var paper_input=__webpack_require__(61),ha_progress_button=__webpack_require__(212);function ha_config_cloud_forgot_password_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_forgot_password_typeof=function(obj){return typeof obj}}else{ha_config_cloud_forgot_password_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_forgot_password_typeof(obj)}function ha_config_cloud_forgot_password_templateObject(){var data=ha_config_cloud_forgot_password_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      .content {\n        padding-bottom: 24px;\n      }\n\n      paper-card {\n        display: block;\n        max-width: 600px;\n        margin: 0 auto;\n        margin-top: 24px;\n      }\n      h1 {\n        @apply --paper-font-headline;\n        margin: 0;\n      }\n      .error {\n        color: var(--google-red-500);\n      }\n      .card-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n      .card-actions a {\n        color: var(--primary-text-color);\n      }\n      [hidden] {\n        display: none;\n      }\n    </style>\n    <hass-subpage header=\"Forgot Password\">\n      <div class=\"content\">\n        <paper-card>\n          <div class=\"card-content\">\n            <h1>Forgot your password?</h1>\n            <p>\n              Enter your email address and we will send you a link to reset your password.\n            </p>\n            <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n            <paper-input autofocus=\"\" id=\"email\" label=\"E-mail\" value=\"{{email}}\" type=\"email\" on-keydown=\"_keyDown\" error-message=\"Invalid email\"></paper-input>\n          </div>\n          <div class=\"card-actions\">\n            <ha-progress-button on-click=\"_handleEmailPasswordReset\" progress=\"[[_requestInProgress]]\">Send reset email</ha-progress-button>\n          </div>\n        </paper-card>\n      </div>\n    </hass-subpage>\n"]);ha_config_cloud_forgot_password_templateObject=function(){return data};return data}function ha_config_cloud_forgot_password_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_forgot_password_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_forgot_password_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_forgot_password_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_forgot_password_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_forgot_password_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_forgot_password_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_forgot_password_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_forgot_password_assertThisInitialized(self)}function ha_config_cloud_forgot_password_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_forgot_password_getPrototypeOf(o){ha_config_cloud_forgot_password_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_forgot_password_getPrototypeOf(o)}function ha_config_cloud_forgot_password_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_forgot_password_setPrototypeOf(subClass,superClass)}function ha_config_cloud_forgot_password_setPrototypeOf(o,p){ha_config_cloud_forgot_password_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return ha_config_cloud_forgot_password_setPrototypeOf(o,p)}var ha_config_cloud_forgot_password_HaConfigCloudForgotPassword=function(_EventsMixin){ha_config_cloud_forgot_password_inherits(HaConfigCloudForgotPassword,_EventsMixin);function HaConfigCloudForgotPassword(){ha_config_cloud_forgot_password_classCallCheck(this,HaConfigCloudForgotPassword);return ha_config_cloud_forgot_password_possibleConstructorReturn(this,ha_config_cloud_forgot_password_getPrototypeOf(HaConfigCloudForgotPassword).apply(this,arguments))}ha_config_cloud_forgot_password_createClass(HaConfigCloudForgotPassword,[{key:"_emailChanged",value:function(){this._error="";this.$.email.invalid=!1}},{key:"_keyDown",value:function(ev){if(13===ev.keyCode){this._handleEmailPasswordReset();ev.preventDefault()}}},{key:"_handleEmailPasswordReset",value:function(){var _this=this;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0}if(this.$.email.invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/forgot_password",{email:this.email}).then(function(){_this._requestInProgress=!1;_this.fire("cloud-done",{flashMessage:"Check your email for instructions on how to reset your password."})},function(err){return _this.setProperties({_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}}],[{key:"template",get:function(){return Object(html_tag.a)(ha_config_cloud_forgot_password_templateObject())}},{key:"properties",get:function(){return{hass:Object,email:{type:String,notify:!0,observer:"_emailChanged"},_requestInProgress:{type:Boolean,value:!1},_error:{type:String,value:""}}}}]);return HaConfigCloudForgotPassword}(Object(events_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud-forgot-password",ha_config_cloud_forgot_password_HaConfigCloudForgotPassword);var paper_icon_button=__webpack_require__(62),paper_item=__webpack_require__(119),paper_ripple=__webpack_require__(77),navigate_mixin=__webpack_require__(82);function ha_config_cloud_login_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_login_typeof=function(obj){return typeof obj}}else{ha_config_cloud_login_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_login_typeof(obj)}function ha_config_cloud_login_templateObject(){var data=ha_config_cloud_login_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      .content {\n        padding-bottom: 24px;\n      }\n      [slot=introduction] {\n        margin: -1em 0;\n      }\n      [slot=introduction] a {\n        color: var(--primary-color);\n      }\n      paper-card {\n        display: block;\n      }\n      paper-item {\n        cursor: pointer;\n      }\n      paper-card:last-child {\n        margin-top: 24px;\n      }\n      h1 {\n        @apply --paper-font-headline;\n        margin: 0;\n      }\n      .error {\n        color: var(--google-red-500);\n      }\n      .card-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n      [hidden] {\n        display: none;\n      }\n      .flash-msg {\n        padding-right: 44px;\n      }\n      .flash-msg paper-icon-button {\n        position: absolute;\n        top: 8px;\n        right: 8px;\n        color: var(--secondary-text-color);\n      }\n    </style>\n    <hass-subpage header=\"Cloud Login\">\n      <div class=\"content\">\n        <ha-config-section is-wide=\"[[isWide]]\">\n          <span slot=\"header\">Home Assistant Cloud</span>\n          <div slot=\"introduction\">\n            <p>\n              Home Assistant Cloud connects your local instance securely to cloud-only services Amazon Alexa and Google Assistant.\n            </p>\n            <p>\n              This service is run by our partner <a href='https://www.nabucasa.com' target='_blank'>Nabu&nbsp;Casa,&nbsp;Inc</a>, a company founded by the founders of Home Assistant and Hass.io.\n            </p>\n            <p>\n              Home Assistant Cloud is a subscription service with a free one month trial. No payment information necessary.\n            </p>\n            <p><a href=\"https://www.nabucasa.com\" target=\"_blank\">Learn more about Home Assistant Cloud</a></p>\n          </div>\n\n          <paper-card hidden$=\"[[!flashMessage]]\">\n            <div class=\"card-content flash-msg\">\n              [[flashMessage]]\n              <paper-icon-button icon=\"hass:close\" on-click=\"_dismissFlash\">Dismiss</paper-icon-button>\n              <paper-ripple id=\"flashRipple\" noink=\"\"></paper-ripple>\n            </div>\n          </paper-card>\n\n          <paper-card>\n            <div class=\"card-content\">\n              <h1>Sign In</h1>\n              <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n              <paper-input label=\"Email\" id=\"email\" type=\"email\" value=\"{{email}}\" on-keydown=\"_keyDown\" error-message=\"Invalid email\"></paper-input>\n              <paper-input id=\"password\" label=\"Password\" value=\"{{_password}}\" type=\"password\" on-keydown=\"_keyDown\" error-message=\"Passwords are at least 8 characters\"></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-progress-button on-click=\"_handleLogin\" progress=\"[[_requestInProgress]]\">Sign in</ha-progress-button>\n              <button class=\"link\" hidden=\"[[_requestInProgress]]\" on-click=\"_handleForgotPassword\">forgot password?</button>\n            </div>\n          </paper-card>\n\n          <paper-card>\n            <paper-item on-click=\"_handleRegister\">\n              <paper-item-body two-line=\"\">\n                Start your free 1 month trial\n                <div secondary=\"\">No payment information necessary</div>\n              </paper-item-body>\n              <iron-icon icon=\"hass:chevron-right\"></iron-icon>\n            </paper-item>\n          </paper-card>\n        </ha-config-section>\n      </div>\n    </hass-subpage>\n"]);ha_config_cloud_login_templateObject=function(){return data};return data}function ha_config_cloud_login_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_login_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_login_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_login_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_login_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_login_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_login_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_login_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_login_assertThisInitialized(self)}function ha_config_cloud_login_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_login_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){ha_config_cloud_login_get=Reflect.get}else{ha_config_cloud_login_get=function(target,property,receiver){var base=ha_config_cloud_login_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return ha_config_cloud_login_get(target,property,receiver||target)}function ha_config_cloud_login_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=ha_config_cloud_login_getPrototypeOf(object);if(null===object)break}return object}function ha_config_cloud_login_getPrototypeOf(o){ha_config_cloud_login_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_login_getPrototypeOf(o)}function ha_config_cloud_login_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_login_setPrototypeOf(subClass,superClass)}function ha_config_cloud_login_setPrototypeOf(o,p){ha_config_cloud_login_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return ha_config_cloud_login_setPrototypeOf(o,p)}var ha_config_cloud_login_HaConfigCloudLogin=function(_NavigateMixin){ha_config_cloud_login_inherits(HaConfigCloudLogin,_NavigateMixin);function HaConfigCloudLogin(){ha_config_cloud_login_classCallCheck(this,HaConfigCloudLogin);return ha_config_cloud_login_possibleConstructorReturn(this,ha_config_cloud_login_getPrototypeOf(HaConfigCloudLogin).apply(this,arguments))}ha_config_cloud_login_createClass(HaConfigCloudLogin,[{key:"connectedCallback",value:function(){var _this=this;ha_config_cloud_login_get(ha_config_cloud_login_getPrototypeOf(HaConfigCloudLogin.prototype),"connectedCallback",this).call(this);if(this.flashMessage){requestAnimationFrame(function(){return requestAnimationFrame(function(){return _this.$.flashRipple.simulatedRipple()})})}}},{key:"_inputChanged",value:function(){this.$.email.invalid=!1;this.$.password.invalid=!1;this._error=!1}},{key:"_keyDown",value:function(ev){if(13===ev.keyCode){this._handleLogin();ev.preventDefault()}}},{key:"_handleLogin",value:function(){var _this2=this,invalid=!1;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0;this.$.email.focus();invalid=!0}if(8>this._password.length){this.$.password.invalid=!0;if(!invalid){invalid=!0;this.$.password.focus()}}if(invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/login",{email:this.email,password:this._password}).then(function(){_this2.fire("ha-refresh-cloud-status");_this2.setProperties({email:"",_password:""})},function(err){_this2._password="";var errCode=err&&err.body&&err.body.code;if("PasswordChangeRequired"===errCode){alert("You need to change your password before logging in.");_this2.navigate("/config/cloud/forgot-password");return}var props={_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"};if("UserNotConfirmed"===errCode){props._error="You need to confirm your email before logging in."}_this2.setProperties(props);_this2.$.email.focus()})}},{key:"_handleRegister",value:function(){this.flashMessage="";this.navigate("/config/cloud/register")}},{key:"_handleForgotPassword",value:function(){this.flashMessage="";this.navigate("/config/cloud/forgot-password")}},{key:"_dismissFlash",value:function(){var _this3=this;setTimeout(function(){_this3.flashMessage=""},200)}}],[{key:"template",get:function(){return Object(html_tag.a)(ha_config_cloud_login_templateObject())}},{key:"properties",get:function(){return{hass:Object,isWide:Boolean,email:{type:String,notify:!0},_password:{type:String,value:""},_requestInProgress:{type:Boolean,value:!1},flashMessage:{type:String,notify:!0},_error:String}}},{key:"observers",get:function(){return["_inputChanged(email, _password)"]}}]);return HaConfigCloudLogin}(Object(navigate_mixin.a)(Object(events_mixin.a)(polymer_element.a)));customElements.define("ha-config-cloud-login",ha_config_cloud_login_HaConfigCloudLogin);function ha_config_cloud_register_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_register_typeof=function(obj){return typeof obj}}else{ha_config_cloud_register_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_register_typeof(obj)}function ha_config_cloud_register_templateObject(){var data=ha_config_cloud_register_taggedTemplateLiteral(["\n    <style include=\"iron-flex ha-style\">\n      [slot=introduction] {\n        margin: -1em 0;\n      }\n      [slot=introduction] a {\n        color: var(--primary-color);\n      }\n      a {\n        color: var(--primary-color);\n      }\n      paper-card {\n        display: block;\n      }\n      paper-item {\n        cursor: pointer;\n      }\n      paper-card:last-child {\n        margin-top: 24px;\n      }\n      h1 {\n        @apply --paper-font-headline;\n        margin: 0;\n      }\n      .error {\n        color: var(--google-red-500);\n      }\n      .card-actions {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      }\n      [hidden] {\n        display: none;\n      }\n    </style>\n    <hass-subpage header=\"Register Account\">\n      <div class=\"content\">\n        <ha-config-section is-wide=\"[[isWide]]\">\n          <span slot=\"header\">Start your free trial</span>\n          <div slot=\"introduction\">\n            <p>\n              Create an account to start your free one month trial with Home Assistant Cloud. No payment information necessary.\n            </p>\n            <p>\n              The trial will give you access to all the benefits of Home Assistant Cloud, including:\n            </p>\n            <ul>\n              <li>Integration with Google Assistant</li>\n              <li>Integration with Amazon Alexa</li>\n            </ul>\n            <p>\n              This service is run by our partner <a href='https://www.nabucasa.com' target='_blank'>Nabu&nbsp;Casa,&nbsp;Inc</a>, a company founded by the founders of Home Assistant and Hass.io.\n            </p>\n\n            <p>\n              By registering an account you agree to the following terms and conditions.\n              </p><ul>\n                <li><a href=\"https://home-assistant.io/tos/\" target=\"_blank\">Terms and Conditions</a></li>\n                <li><a href=\"https://home-assistant.io/privacy/\" target=\"_blank\">Privacy Policy</a></li>\n              </ul>\n            </p>\n          </div>\n\n          <paper-card>\n            <div class=\"card-content\">\n              <div class=\"header\">\n                <h1>Create Account</h1>\n                <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n              </div>\n              <paper-input autofocus=\"\" id=\"email\" label=\"Email address\" type=\"email\" value=\"{{email}}\" on-keydown=\"_keyDown\" error-message=\"Invalid email\"></paper-input>\n              <paper-input id=\"password\" label=\"Password\" value=\"{{_password}}\" type=\"password\" on-keydown=\"_keyDown\" error-message=\"Your password needs to be at least 8 characters\"></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-progress-button on-click=\"_handleRegister\" progress=\"[[_requestInProgress]]\">Start trial</ha-progress-button>\n              <button class=\"link\" hidden=\"[[_requestInProgress]]\" on-click=\"_handleResendVerifyEmail\">Resend confirmation email</button>\n            </div>\n          </paper-card>\n        </ha-config-section>\n      </div>\n    </hass-subpage>\n"]);ha_config_cloud_register_templateObject=function(){return data};return data}function ha_config_cloud_register_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_register_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_register_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_register_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_register_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_register_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_register_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_register_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_register_assertThisInitialized(self)}function ha_config_cloud_register_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_register_getPrototypeOf(o){ha_config_cloud_register_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_register_getPrototypeOf(o)}function ha_config_cloud_register_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_register_setPrototypeOf(subClass,superClass)}function ha_config_cloud_register_setPrototypeOf(o,p){ha_config_cloud_register_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return ha_config_cloud_register_setPrototypeOf(o,p)}var ha_config_cloud_register_HaConfigCloudRegister=function(_EventsMixin){ha_config_cloud_register_inherits(HaConfigCloudRegister,_EventsMixin);function HaConfigCloudRegister(){ha_config_cloud_register_classCallCheck(this,HaConfigCloudRegister);return ha_config_cloud_register_possibleConstructorReturn(this,ha_config_cloud_register_getPrototypeOf(HaConfigCloudRegister).apply(this,arguments))}ha_config_cloud_register_createClass(HaConfigCloudRegister,[{key:"_inputChanged",value:function(){this._error="";this.$.email.invalid=!1;this.$.password.invalid=!1}},{key:"_keyDown",value:function(ev){if(13===ev.keyCode){this._handleRegister();ev.preventDefault()}}},{key:"_handleRegister",value:function(){var _this=this,invalid=!1;if(!this.email||!this.email.includes("@")){this.$.email.invalid=!0;this.$.email.focus();invalid=!0}if(8>this._password.length){this.$.password.invalid=!0;if(!invalid){invalid=!0;this.$.password.focus()}}if(invalid)return;this._requestInProgress=!0;this.hass.callApi("post","cloud/register",{email:this.email,password:this._password}).then(function(){return _this._verificationEmailSent()},function(err){_this._password="";_this.setProperties({_requestInProgress:!1,_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}},{key:"_handleResendVerifyEmail",value:function(){var _this2=this;if(!this.email){this.$.email.invalid=!0;return}this.hass.callApi("post","cloud/resend_confirm",{email:this.email}).then(function(){return _this2._verificationEmailSent()},function(err){return _this2.setProperties({_error:err&&err.body&&err.body.message?err.body.message:"Unknown error"})})}},{key:"_verificationEmailSent",value:function(){this.setProperties({_requestInProgress:!1,_password:""});this.fire("cloud-done",{flashMessage:"Account created! Check your email for instructions on how to activate your account."})}}],[{key:"template",get:function(){return Object(html_tag.a)(ha_config_cloud_register_templateObject())}},{key:"properties",get:function(){return{hass:Object,isWide:Boolean,email:{type:String,notify:!0},_requestInProgress:{type:Boolean,value:!1},_password:{type:String,value:""},_error:{type:String,value:""}}}},{key:"observers",get:function(){return["_inputChanged(email, _password)"]}}]);return HaConfigCloudRegister}(Object(events_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud-register",ha_config_cloud_register_HaConfigCloudRegister);function ha_config_cloud_typeof(obj){if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator){ha_config_cloud_typeof=function(obj){return typeof obj}}else{ha_config_cloud_typeof=function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return ha_config_cloud_typeof(obj)}function ha_config_cloud_templateObject(){var data=ha_config_cloud_taggedTemplateLiteral(["\n  <app-route route=\"[[route]]\" pattern=\"/cloud/:page\" data=\"{{_routeData}}\" tail=\"{{_routeTail}}\"></app-route>\n\n  <template is=\"dom-if\" if=\"[[_equals(_routeData.page, &quot;account&quot;)]]\" restamp=\"\">\n    <ha-config-cloud-account\n      hass=\"[[hass]]\"\n      cloud-status=\"[[cloudStatus]]\"\n      is-wide=\"[[isWide]]\"\n    ></ha-config-cloud-account>\n  </template>\n\n  <template is=\"dom-if\" if=\"[[_equals(_routeData.page, &quot;login&quot;)]]\" restamp=\"\">\n    <ha-config-cloud-login\n      page-name=\"login\"\n      hass=\"[[hass]]\"\n      is-wide=\"[[isWide]]\"\n      email=\"{{_loginEmail}}\"\n      flash-message=\"{{_flashMessage}}\"\n    ></ha-config-cloud-login>\n  </template>\n\n  <template is=\"dom-if\" if=\"[[_equals(_routeData.page, &quot;register&quot;)]]\" restamp=\"\">\n    <ha-config-cloud-register\n      page-name=\"register\"\n      hass=\"[[hass]]\"\n      is-wide=\"[[isWide]]\"\n      email=\"{{_loginEmail}}\"\n    ></ha-config-cloud-register>\n  </template>\n\n  <template is=\"dom-if\" if=\"[[_equals(_routeData.page, &quot;forgot-password&quot;)]]\" restamp=\"\">\n    <ha-config-cloud-forgot-password\n      page-name=\"forgot-password\"\n      hass=\"[[hass]]\"\n      email=\"{{_loginEmail}}\"\n    ></ha-config-cloud-forgot-password>\n  </template>\n"]);ha_config_cloud_templateObject=function(){return data};return data}function ha_config_cloud_taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ha_config_cloud_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ha_config_cloud_defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function ha_config_cloud_createClass(Constructor,protoProps,staticProps){if(protoProps)ha_config_cloud_defineProperties(Constructor.prototype,protoProps);if(staticProps)ha_config_cloud_defineProperties(Constructor,staticProps);return Constructor}function ha_config_cloud_possibleConstructorReturn(self,call){if(call&&("object"===ha_config_cloud_typeof(call)||"function"===typeof call)){return call}return ha_config_cloud_assertThisInitialized(self)}function ha_config_cloud_assertThisInitialized(self){if(void 0===self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function ha_config_cloud_get(target,property,receiver){if("undefined"!==typeof Reflect&&Reflect.get){ha_config_cloud_get=Reflect.get}else{ha_config_cloud_get=function(target,property,receiver){var base=ha_config_cloud_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return ha_config_cloud_get(target,property,receiver||target)}function ha_config_cloud_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=ha_config_cloud_getPrototypeOf(object);if(null===object)break}return object}function ha_config_cloud_getPrototypeOf(o){ha_config_cloud_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return ha_config_cloud_getPrototypeOf(o)}function ha_config_cloud_inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});if(superClass)ha_config_cloud_setPrototypeOf(subClass,superClass)}function ha_config_cloud_setPrototypeOf(o,p){ha_config_cloud_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return ha_config_cloud_setPrototypeOf(o,p)}var LOGGED_IN_URLS=["/cloud/account"],NOT_LOGGED_IN_URLS=["/cloud/login","/cloud/register","/cloud/forgot-password"],ha_config_cloud_HaConfigCloud=function(_NavigateMixin){ha_config_cloud_inherits(HaConfigCloud,_NavigateMixin);function HaConfigCloud(){ha_config_cloud_classCallCheck(this,HaConfigCloud);return ha_config_cloud_possibleConstructorReturn(this,ha_config_cloud_getPrototypeOf(HaConfigCloud).apply(this,arguments))}ha_config_cloud_createClass(HaConfigCloud,[{key:"ready",value:function(){var _this=this;ha_config_cloud_get(ha_config_cloud_getPrototypeOf(HaConfigCloud.prototype),"ready",this).call(this);this.addEventListener("cloud-done",function(ev){_this._flashMessage=ev.detail.flashMessage;_this.navigate("/config/cloud/login")})}},{key:"_checkRoute",value:function(route){var _this2=this;if(!route||"/cloud"!==route.path.substr(0,6))return;this._debouncer=debounce.a.debounce(this._debouncer,utils_async.d.after(0),function(){if(!_this2.cloudStatus||!_this2.cloudStatus.logged_in&&!NOT_LOGGED_IN_URLS.includes(route.path)){_this2.navigate("/config/cloud/login",!0)}else if(_this2.cloudStatus.logged_in&&!LOGGED_IN_URLS.includes(route.path)){_this2.navigate("/config/cloud/account",!0)}})}},{key:"_equals",value:function(a,b){return a===b}}],[{key:"template",get:function(){return Object(html_tag.a)(ha_config_cloud_templateObject())}},{key:"properties",get:function(){return{hass:Object,isWide:Boolean,loadingAccount:{type:Boolean,value:!1},cloudStatus:{type:Object},_flashMessage:{type:String,value:""},route:Object,_routeData:Object,_routeTail:Object,_loginEmail:String}}},{key:"observers",get:function(){return["_checkRoute(route, cloudStatus)"]}}]);return HaConfigCloud}(Object(navigate_mixin.a)(polymer_element.a));customElements.define("ha-config-cloud",ha_config_cloud_HaConfigCloud)}}]);
//# sourceMappingURL=fa07d8eefa137d06c921.chunk.js.map