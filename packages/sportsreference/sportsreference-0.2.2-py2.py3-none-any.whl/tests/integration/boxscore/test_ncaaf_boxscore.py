import mock
import os
import pandas as pd
from datetime import datetime
from flexmock import flexmock
from sportsreference import utils
from sportsreference.constants import AWAY
from sportsreference.ncaaf.constants import BOXSCORE_URL, BOXSCORES_URL
from sportsreference.ncaaf.boxscore import Boxscore, Boxscores


MONTH = 10
YEAR = 2017

BOXSCORE = '2018-01-08-georgia'


def read_file(filename):
    filepath = os.path.join(os.path.dirname(__file__), 'ncaaf', filename)
    return open('%s' % filepath, 'r').read()


def mock_pyquery(url):
    class MockPQ:
        def __init__(self, html_contents):
            self.status_code = 200
            self.html_contents = html_contents
            self.text = html_contents

    if url == BOXSCORES_URL % (8, 30, 2017):
        return MockPQ(read_file('boxscores.html'))
    boxscore = read_file('%s.html' % BOXSCORE)
    return MockPQ(boxscore)


class MockDateTime:
    def __init__(self, year, month):
        self.year = year
        self.month = month


class TestNCAAFBoxscore:
    @mock.patch('requests.get', side_effect=mock_pyquery)
    def setup_method(self, *args, **kwargs):
        self.results = {
            'date': 'Monday Jan 8, 2018',
            'time': '8:00 PM ET',
            'stadium': 'Mercedes-Benz Stadium - Atlanta, Georgia',
            'winner': AWAY,
            'winning_name': 'Alabama',
            'winning_abbr': 'ALABAMA',
            'losing_name': 'Georgia',
            'losing_abbr': 'GEORGIA',
            'away_points': 26,
            'away_first_downs': 20,
            'away_rush_attempts': 39,
            'away_rush_yards': 184,
            'away_rush_touchdowns': 0,
            'away_pass_completions': 17,
            'away_pass_attempts': 32,
            'away_pass_yards': 187,
            'away_pass_touchdowns': 3,
            'away_interceptions': 1,
            'away_total_yards': 371,
            'away_fumbles': 0,
            'away_fumbles_lost': 0,
            'away_turnovers': 1,
            'away_penalties': 6,
            'away_yards_from_penalties': 41,
            'home_points': 23,
            'home_first_downs': 22,
            'home_rush_attempts': 45,
            'home_rush_yards': 133,
            'home_rush_touchdowns': 1,
            'home_pass_completions': 16,
            'home_pass_attempts': 32,
            'home_pass_yards': 232,
            'home_pass_touchdowns': 1,
            'home_interceptions': 2,
            'home_total_yards': 365,
            'home_fumbles': 0,
            'home_fumbles_lost': 0,
            'home_turnovers': 2,
            'home_penalties': 6,
            'home_yards_from_penalties': 65
        }
        flexmock(utils) \
            .should_receive('_todays_date') \
            .and_return(MockDateTime(YEAR, MONTH))

        self.boxscore = Boxscore(BOXSCORE)

    def test_ncaaf_boxscore_returns_requested_boxscore(self):
        for attribute, value in self.results.items():
            assert getattr(self.boxscore, attribute) == value

    def test_invalid_url_yields_empty_class(self):
        flexmock(Boxscore) \
            .should_receive('_retrieve_html_page') \
            .and_return(None)

        boxscore = Boxscore(BOXSCORE)

        for key, value in boxscore.__dict__.items():
            if key == '_uri':
                continue
            assert value is None

    def test_ncaaf_boxscore_dataframe_returns_dataframe_of_all_values(self):
        df = pd.DataFrame([self.results], index=[BOXSCORE])

        # Pandas doesn't natively allow comparisons of DataFrames.
        # Concatenating the two DataFrames (the one generated during the test
        # and the expected one above) and dropping duplicate rows leaves only
        # the rows that are unique between the two frames. This allows a quick
        # check of the DataFrame to see if it is empty - if so, all rows are
        # duplicates, and they are equal.
        frames = [df, self.boxscore.dataframe]
        df1 = pd.concat(frames).drop_duplicates(keep=False)

        assert df1.empty


class TestNCAAFBoxscores:
    @mock.patch('requests.get', side_effect=mock_pyquery)
    def test_boxscores_search(self, *args, **kwargs):
        expected = {
            'boxscores': [
                {'home_name': 'Georgia Tech',
                 'away_abbr': 'tennessee',
                 'home_abbr': 'georgia-tech',
                 'boxscore': '2017-09-04-georgia-tech',
                 'away_name': 'Tennessee',
                 'non_di': False},
                {'home_name': 'UCLA',
                 'away_abbr': 'texas-am',
                 'home_abbr': 'ucla',
                 'boxscore': '2017-09-03-ucla',
                 'away_name': 'Texas A&M',
                 'non_di': False},
                {'home_name': 'Virginia Tech',
                 'away_abbr': 'west-virginia',
                 'home_abbr': 'virginia-tech',
                 'boxscore': '2017-09-03-virginia-tech',
                 'away_name': 'West Virginia',
                 'non_di': False},
                {'home_name': 'Air Force',
                 'away_abbr': 'Virginia Military Institute',
                 'home_abbr': 'air-force',
                 'boxscore': '2017-09-02-air-force',
                 'away_name': 'Virginia Military Institute',
                 'non_di': True},
                {'home_name': 'UAB',
                 'away_abbr': 'Alabama A&M',
                 'home_abbr': 'alabama-birmingham',
                 'boxscore': '2017-09-02-alabama-birmingham',
                 'away_name': 'Alabama A&M',
                 'non_di': True},
                {'home_name': 'Arizona',
                 'away_abbr': 'Northern Arizona',
                 'home_abbr': 'arizona',
                 'boxscore': '2017-09-02-arizona',
                 'away_name': 'Northern Arizona',
                 'non_di': True},
                {'home_name': 'Auburn',
                 'away_abbr': 'georgia-southern',
                 'home_abbr': 'auburn',
                 'boxscore': '2017-09-02-auburn',
                 'away_name': 'Georgia Southern',
                 'non_di': False},
                {'home_name': 'Baylor',
                 'away_abbr': 'Liberty',
                 'home_abbr': 'baylor',
                 'boxscore': '2017-09-02-baylor',
                 'away_name': 'Liberty',
                 'non_di': True},
                {'home_name': 'Boise State',
                 'away_abbr': 'troy',
                 'home_abbr': 'boise-state',
                 'boxscore': '2017-09-02-boise-state',
                 'away_name': 'Troy',
                 'non_di': False},
                {'home_name': 'Brigham Young',
                 'away_abbr': 'louisiana-state',
                 'home_abbr': 'brigham-young',
                 'boxscore': '2017-09-02-brigham-young',
                 'away_name': 'LSU',
                 'non_di': False},
                {'home_name': 'UCF',
                 'away_abbr': 'florida-international',
                 'home_abbr': 'central-florida',
                 'boxscore': '2017-09-02-central-florida',
                 'away_name': 'Florida International',
                 'non_di': False},
                {'home_name': 'Clemson',
                 'away_abbr': 'kent-state',
                 'home_abbr': 'clemson',
                 'boxscore': '2017-09-02-clemson',
                 'away_name': 'Kent State',
                 'non_di': False},
                {'home_name': 'Coastal Carolina',
                 'away_abbr': 'massachusetts',
                 'home_abbr': 'coastal-carolina',
                 'boxscore': '2017-09-02-coastal-carolina',
                 'away_name': 'Massachusetts',
                 'non_di': False},
                {'home_name': 'Duke',
                 'away_abbr': 'North Carolina Central',
                 'home_abbr': 'duke',
                 'boxscore': '2017-09-02-duke',
                 'away_name': 'North Carolina Central',
                 'non_di': True},
                {'home_name': 'East Carolina',
                 'away_abbr': 'James Madison',
                 'home_abbr': 'east-carolina',
                 'boxscore': '2017-09-02-east-carolina',
                 'away_name': 'James Madison',
                 'non_di': True},
                {'home_name': 'Florida State',
                 'away_abbr': 'alabama',
                 'home_abbr': 'florida-state',
                 'boxscore': '2017-09-02-florida-state',
                 'away_name': 'Alabama',
                 'non_di': False},
                {'home_name': 'Fresno State',
                 'away_abbr': 'Incarnate Word',
                 'home_abbr': 'fresno-state',
                 'boxscore': '2017-09-02-fresno-state',
                 'away_name': 'Incarnate Word',
                 'non_di': True},
                {'home_name': 'Georgia',
                 'away_abbr': 'appalachian-state',
                 'home_abbr': 'georgia',
                 'boxscore': '2017-09-02-georgia',
                 'away_name': 'Appalachian State',
                 'non_di': False},
                {'home_name': 'Hawaii',
                 'away_abbr': 'Western Carolina',
                 'home_abbr': 'hawaii',
                 'boxscore': '2017-09-02-hawaii',
                 'away_name': 'Western Carolina',
                 'non_di': True},
                {'home_name': 'Illinois',
                 'away_abbr': 'ball-state',
                 'home_abbr': 'illinois',
                 'boxscore': '2017-09-02-illinois',
                 'away_name': 'Ball State',
                 'non_di': False},
                {'home_name': 'Iowa',
                 'away_abbr': 'wyoming',
                 'home_abbr': 'iowa',
                 'boxscore': '2017-09-02-iowa',
                 'away_name': 'Wyoming',
                 'non_di': False},
                {'home_name': 'Iowa State',
                 'away_abbr': 'Northern Iowa',
                 'home_abbr': 'iowa-state',
                 'boxscore': '2017-09-02-iowa-state',
                 'away_name': 'Northern Iowa',
                 'non_di': True},
                {'home_name': 'Kansas',
                 'away_abbr': 'Southeast Missouri State',
                 'home_abbr': 'kansas',
                 'boxscore': '2017-09-02-kansas',
                 'away_name': 'Southeast Missouri State',
                 'non_di': True},
                {'home_name': 'Kansas State',
                 'away_abbr': 'Central Arkansas',
                 'home_abbr': 'kansas-state',
                 'boxscore': '2017-09-02-kansas-state',
                 'away_name': 'Central Arkansas',
                 'non_di': True},
                {'home_name': 'Louisiana',
                 'away_abbr': 'Southeastern Louisiana',
                 'home_abbr': 'louisiana-lafayette',
                 'boxscore': '2017-09-02-louisiana-lafayette',
                 'away_name': 'Southeastern Louisiana',
                 'non_di': True},
                {'home_name': 'Louisiana Tech',
                 'away_abbr': 'Northwestern State',
                 'home_abbr': 'louisiana-tech',
                 'boxscore': '2017-09-02-louisiana-tech',
                 'away_name': 'Northwestern State',
                 'non_di': True},
                {'home_name': 'Marshall',
                 'away_abbr': 'miami-oh',
                 'home_abbr': 'marshall',
                 'boxscore': '2017-09-02-marshall',
                 'away_name': 'Miami (OH)',
                 'non_di': False},
                {'home_name': 'Miami (FL)',
                 'away_abbr': 'Bethune-Cookman',
                 'home_abbr': 'miami-fl',
                 'boxscore': '2017-09-02-miami-fl',
                 'away_name': 'Bethune-Cookman',
                 'non_di': True},
                {'home_name': 'Michigan',
                 'away_abbr': 'florida',
                 'home_abbr': 'michigan',
                 'boxscore': '2017-09-02-michigan',
                 'away_name': 'Florida',
                 'non_di': False},
                {'home_name': 'Michigan State',
                 'away_abbr': 'bowling-green-state',
                 'home_abbr': 'michigan-state',
                 'boxscore': '2017-09-02-michigan-state',
                 'away_name': 'Bowling Green State',
                 'non_di': False},
                {'home_name': 'Middle Tennessee State',
                 'away_abbr': 'vanderbilt',
                 'home_abbr': 'middle-tennessee-state',
                 'boxscore': '2017-09-02-middle-tennessee-state',
                 'away_name': 'Vanderbilt',
                 'non_di': False},
                {'home_name': 'Ole Miss',
                 'away_abbr': 'south-alabama',
                 'home_abbr': 'mississippi',
                 'boxscore': '2017-09-02-mississippi',
                 'away_name': 'South Alabama',
                 'non_di': False},
                {'home_name': 'Mississippi State',
                 'away_abbr': 'Charleston Southern',
                 'home_abbr': 'mississippi-state',
                 'boxscore': '2017-09-02-mississippi-state',
                 'away_name': 'Charleston Southern',
                 'non_di': True},
                {'home_name': 'Missouri',
                 'away_abbr': 'Missouri State',
                 'home_abbr': 'missouri',
                 'boxscore': '2017-09-02-missouri',
                 'away_name': 'Missouri State',
                 'non_di': True},
                {'home_name': 'Nebraska',
                 'away_abbr': 'arkansas-state',
                 'home_abbr': 'nebraska',
                 'boxscore': '2017-09-02-nebraska',
                 'away_name': 'Arkansas State',
                 'non_di': False},
                {'home_name': 'UNLV',
                 'away_abbr': 'Howard',
                 'home_abbr': 'nevada-las-vegas',
                 'boxscore': '2017-09-02-nevada-las-vegas',
                 'away_name': 'Howard',
                 'non_di': True},
                {'home_name': 'New Mexico',
                 'away_abbr': 'Abilene Christian',
                 'home_abbr': 'new-mexico',
                 'boxscore': '2017-09-02-new-mexico',
                 'away_name': 'Abilene Christian',
                 'non_di': True},
                {'home_name': 'North Carolina',
                 'away_abbr': 'california',
                 'home_abbr': 'north-carolina',
                 'boxscore': '2017-09-02-north-carolina',
                 'away_name': 'California',
                 'non_di': False},
                {'home_name': 'North Carolina State',
                 'away_abbr': 'south-carolina',
                 'home_abbr': 'north-carolina-state',
                 'boxscore': '2017-09-02-north-carolina-state',
                 'away_name': 'South Carolina',
                 'non_di': False},
                {'home_name': 'North Texas',
                 'away_abbr': 'Lamar',
                 'home_abbr': 'north-texas',
                 'boxscore': '2017-09-02-north-texas',
                 'away_name': 'Lamar',
                 'non_di': True},
                {'home_name': 'Northwestern',
                 'away_abbr': 'nevada',
                 'home_abbr': 'northwestern',
                 'boxscore': '2017-09-02-northwestern',
                 'away_name': 'Nevada',
                 'non_di': False},
                {'home_name': 'Notre Dame',
                 'away_abbr': 'temple',
                 'home_abbr': 'notre-dame',
                 'boxscore': '2017-09-02-notre-dame',
                 'away_name': 'Temple',
                 'non_di': False},
                {'home_name': 'Ohio',
                 'away_abbr': 'Hampton',
                 'home_abbr': 'ohio',
                 'boxscore': '2017-09-02-ohio',
                 'away_name': 'Hampton',
                 'non_di': True},
                {'home_name': 'Oklahoma',
                 'away_abbr': 'texas-el-paso',
                 'home_abbr': 'oklahoma',
                 'boxscore': '2017-09-02-oklahoma',
                 'away_name': 'UTEP',
                 'non_di': False},
                {'home_name': 'Oklahoma State',
                 'away_abbr': 'tulsa',
                 'home_abbr': 'oklahoma-state',
                 'boxscore': '2017-09-02-oklahoma-state',
                 'away_name': 'Tulsa',
                 'non_di': False},
                {'home_name': 'Old Dominion',
                 'away_abbr': 'Albany',
                 'home_abbr': 'old-dominion',
                 'boxscore': '2017-09-02-old-dominion',
                 'away_name': 'Albany',
                 'non_di': True},
                {'home_name': 'Oregon',
                 'away_abbr': 'Southern Utah',
                 'home_abbr': 'oregon',
                 'boxscore': '2017-09-02-oregon',
                 'away_name': 'Southern Utah',
                 'non_di': True},
                {'home_name': 'Oregon State',
                 'away_abbr': 'Portland State',
                 'home_abbr': 'oregon-state',
                 'boxscore': '2017-09-02-oregon-state',
                 'away_name': 'Portland State',
                 'non_di': True},
                {'home_name': 'Penn State',
                 'away_abbr': 'akron',
                 'home_abbr': 'penn-state',
                 'boxscore': '2017-09-02-penn-state',
                 'away_name': 'Akron',
                 'non_di': False},
                {'home_name': 'Pitt',
                 'away_abbr': 'Youngstown State',
                 'home_abbr': 'pittsburgh',
                 'boxscore': '2017-09-02-pittsburgh',
                 'away_name': 'Youngstown State',
                 'non_di': True},
                {'home_name': 'Purdue',
                 'away_abbr': 'louisville',
                 'home_abbr': 'purdue',
                 'boxscore': '2017-09-02-purdue',
                 'away_name': 'Louisville',
                 'non_di': False},
                {'home_name': 'San Diego State',
                 'away_abbr': 'California-Davis',
                 'home_abbr': 'san-diego-state',
                 'boxscore': '2017-09-02-san-diego-state',
                 'away_name': 'California-Davis',
                 'non_di': True},
                {'home_name': 'San Jose State',
                 'away_abbr': 'Cal Poly',
                 'home_abbr': 'san-jose-state',
                 'boxscore': '2017-09-02-san-jose-state',
                 'away_name': 'Cal Poly',
                 'non_di': True},
                {'home_name': 'South Florida',
                 'away_abbr': 'Stony Brook',
                 'home_abbr': 'south-florida',
                 'boxscore': '2017-09-02-south-florida',
                 'away_name': 'Stony Brook',
                 'non_di': True},
                {'home_name': 'USC',
                 'away_abbr': 'western-michigan',
                 'home_abbr': 'southern-california',
                 'boxscore': '2017-09-02-southern-california',
                 'away_name': 'Western Michigan',
                 'non_di': False},
                {'home_name': 'SMU',
                 'away_abbr': 'Stephen F. Austin',
                 'home_abbr': 'southern-methodist',
                 'boxscore': '2017-09-02-southern-methodist',
                 'away_name': 'Stephen F. Austin',
                 'non_di': True},
                {'home_name': 'Southern Mississippi',
                 'away_abbr': 'kentucky',
                 'home_abbr': 'southern-mississippi',
                 'boxscore': '2017-09-02-southern-mississippi',
                 'away_name': 'Kentucky',
                 'non_di': False},
                {'home_name': 'Texas',
                 'away_abbr': 'maryland',
                 'home_abbr': 'texas',
                 'boxscore': '2017-09-02-texas',
                 'away_name': 'Maryland',
                 'non_di': False},
                {'home_name': 'Texas Christian',
                 'away_abbr': 'Jackson State',
                 'home_abbr': 'texas-christian',
                 'boxscore': '2017-09-02-texas-christian',
                 'away_name': 'Jackson State',
                 'non_di': True},
                {'home_name': 'Texas State',
                 'away_abbr': '',
                 'home_abbr': 'texas-state',
                 'boxscore': '2017-09-02-texas-state',
                 'away_name': '',
                 'non_di': True},
                {'home_name': 'Texas Tech',
                 'away_abbr': 'Eastern Washington',
                 'home_abbr': 'texas-tech',
                 'boxscore': '2017-09-02-texas-tech',
                 'away_name': 'Eastern Washington',
                 'non_di': True},
                {'home_name': 'Tulane',
                 'away_abbr': 'Grambling State',
                 'home_abbr': 'tulane',
                 'boxscore': '2017-09-02-tulane',
                 'away_name': 'Grambling State',
                 'non_di': True},
                {'home_name': 'Virginia',
                 'away_abbr': 'William & Mary',
                 'home_abbr': 'virginia',
                 'boxscore': '2017-09-02-virginia',
                 'away_name': 'William & Mary',
                 'non_di': True},
                {'home_name': 'Washington State',
                 'away_abbr': 'Montana State',
                 'home_abbr': 'washington-state',
                 'boxscore': '2017-09-02-washington-state',
                 'away_name': 'Montana State',
                 'non_di': True},
                {'home_name': 'Western Kentucky',
                 'away_abbr': 'Eastern Kentucky',
                 'home_abbr': 'western-kentucky',
                 'boxscore': '2017-09-02-western-kentucky',
                 'away_name': 'Eastern Kentucky',
                 'non_di': True},
                {'home_name': 'Army',
                 'away_abbr': 'Fordham',
                 'home_abbr': 'army',
                 'boxscore': '2017-09-01-army',
                 'away_name': 'Fordham',
                 'non_di': True},
                {'home_name': 'Colorado',
                 'away_abbr': 'colorado-state',
                 'home_abbr': 'colorado',
                 'boxscore': '2017-09-01-colorado',
                 'away_name': 'Colorado State',
                 'non_di': False},
                {'home_name': 'Eastern Michigan',
                 'away_abbr': 'charlotte',
                 'home_abbr': 'eastern-michigan',
                 'boxscore': '2017-09-01-eastern-michigan',
                 'away_name': 'Charlotte',
                 'non_di': False},
                {'home_name': 'Florida Atlantic',
                 'away_abbr': 'navy',
                 'home_abbr': 'florida-atlantic',
                 'boxscore': '2017-09-01-florida-atlantic',
                 'away_name': 'Navy',
                 'non_di': False},
                {'home_name': 'Northern Illinois',
                 'away_abbr': 'boston-college',
                 'home_abbr': 'northern-illinois',
                 'boxscore': '2017-09-01-northern-illinois',
                 'away_name': 'Boston College',
                 'non_di': False},
                {'home_name': 'Rutgers',
                 'away_abbr': 'washington',
                 'home_abbr': 'rutgers',
                 'boxscore': '2017-09-01-rutgers',
                 'away_name': 'Washington',
                 'non_di': False},
                {'home_name': 'Syracuse',
                 'away_abbr': 'Central Connecticut State',
                 'home_abbr': 'syracuse',
                 'boxscore': '2017-09-01-syracuse',
                 'away_name': 'Central Connecticut State',
                 'non_di': True},
                {'home_name': 'Wisconsin',
                 'away_abbr': 'utah-state',
                 'home_abbr': 'wisconsin',
                 'boxscore': '2017-09-01-wisconsin',
                 'away_name': 'Utah State',
                 'non_di': False},
                {'home_name': 'Arizona State',
                 'away_abbr': 'new-mexico-state',
                 'home_abbr': 'arizona-state',
                 'boxscore': '2017-08-31-arizona-state',
                 'away_name': 'New Mexico State',
                 'non_di': False},
                {'home_name': 'Arkansas',
                 'away_abbr': 'Florida A&M',
                 'home_abbr': 'arkansas',
                 'boxscore': '2017-08-31-arkansas',
                 'away_name': 'Florida A&M',
                 'non_di': True},
                {'home_name': 'Central Michigan',
                 'away_abbr': 'Rhode Island',
                 'home_abbr': 'central-michigan',
                 'boxscore': '2017-08-31-central-michigan',
                 'away_name': 'Rhode Island',
                 'non_di': True},
                {'home_name': 'Cincinnati',
                 'away_abbr': 'Austin Peay',
                 'home_abbr': 'cincinnati',
                 'boxscore': '2017-08-31-cincinnati',
                 'away_name': 'Austin Peay',
                 'non_di': True},
                {'home_name': 'Connecticut',
                 'away_abbr': 'Holy Cross',
                 'home_abbr': 'connecticut',
                 'boxscore': '2017-08-31-connecticut',
                 'away_name': 'Holy Cross',
                 'non_di': True},
                {'home_name': 'Georgia State',
                 'away_abbr': 'Tennessee State',
                 'home_abbr': 'georgia-state',
                 'boxscore': '2017-08-31-georgia-state',
                 'away_name': 'Tennessee State',
                 'non_di': True},
                {'home_name': 'Idaho',
                 'away_abbr': 'Sacramento State',
                 'home_abbr': 'idaho',
                 'boxscore': '2017-08-31-idaho',
                 'away_name': 'Sacramento State',
                 'non_di': True},
                {'home_name': 'Indiana',
                 'away_abbr': 'ohio-state',
                 'home_abbr': 'indiana',
                 'boxscore': '2017-08-31-indiana',
                 'away_name': 'Ohio State',
                 'non_di': False},
                {'home_name': 'Memphis',
                 'away_abbr': 'louisiana-monroe',
                 'home_abbr': 'memphis',
                 'boxscore': '2017-08-31-memphis',
                 'away_name': 'Louisiana-Monroe',
                 'non_di': False},
                {'home_name': 'Minnesota',
                 'away_abbr': 'buffalo',
                 'home_abbr': 'minnesota',
                 'boxscore': '2017-08-31-minnesota',
                 'away_name': 'Buffalo',
                 'non_di': False},
                {'home_name': 'Toledo',
                 'away_abbr': 'Elon',
                 'home_abbr': 'toledo',
                 'boxscore': '2017-08-31-toledo',
                 'away_name': 'Elon',
                 'non_di': True},
                {'home_name': 'Utah',
                 'away_abbr': 'North Dakota',
                 'home_abbr': 'utah',
                 'boxscore': '2017-08-31-utah',
                 'away_name': 'North Dakota',
                 'non_di': True},
                {'home_name': 'Wake Forest',
                 'away_abbr': 'Presbyterian',
                 'home_abbr': 'wake-forest',
                 'boxscore': '2017-08-31-wake-forest',
                 'away_name': 'Presbyterian',
                 'non_di': True},
            ]
        }

        result = Boxscores(datetime(2017, 8, 30)).games

        assert result == expected
